{"version":3,"sources":["../js/Room.js"],"names":["module","joined","socket","sender"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAAA,MAAM,CAANA,OAAAA,GAAAA,aAAAA,YAAAA;AACI,WAAA,IAAA,CAAA,EAAA,EAAA,EAAA,EAAmB;AAAA,IAAA,eAAA,CAAA,IAAA,EAAA,IAAA,CAAA;;AACf,SAAA,EAAA,GAAA,EAAA;AACA,SAAA,EAAA,GAAA,EAAA;AAEA,SAAA,OAAA,GAAA,EAAA;AACA,SAAA,YAAA,GAAA,CAAA;AACH;;AAPLA,EAAAA,YAAAA,CAAAA,IAAAA,EAAAA,CAAAA;AAAAA,IAAAA,GAAAA,EAAAA,WAAAA;AAAAA,IAAAA,KAAAA,EAAAA,SAAAA,SAAAA,CAAAA,MAAAA,EAAAA,MAAAA,EAS6B;AAAA,UAAA,KAAA,GAAA,IAAA;;AACrB,UAAG,KAAA,YAAA,IAAH,CAAA,EAA2B;AACvBC,QAAAA,MAAM,CAANA,KAAM,CAANA;AACA,eAAA,KAAA;AACH;;AAEDC,MAAAA,MAAM,CAANA,IAAAA,CAAY,KAAZA,EAAAA;AAEA,WAAA,YAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,MAAA;AAEA,UAAG,KAAA,YAAA,KAAH,CAAA,EACID,MAAM,CAAA,IAAA,EADV,QACU,CAANA,CADJ,KAGIA,MAAM,CAAA,IAAA,EAANA,OAAM,CAANA;AAEJ,UAAG,KAAA,OAAA,CAAA,MAAA,KAAH,CAAA,EACI,KAAA,KAAA;AAEJC,MAAAA,MAAM,CAANA,EAAAA,CAAAA,SAAAA,EAAqB,UAAA,UAAA,EAAc;AAC/B,QAAA,KAAI,CAAJ,WAAA,CAAA,MAAA,EAAA,UAAA;AADJA,OAAAA;AAIA,aAAA,IAAA;AACH;AAjCLF,GAAAA,EAAAA;AAAAA,IAAAA,GAAAA,EAAAA,WAAAA;AAAAA,IAAAA,KAAAA,EAAAA,SAAAA,SAAAA,CAAAA,KAAAA,EAAAA,OAAAA,EAmC6B;AACrB,WAAA,EAAA,CAAA,EAAA,CAAW,KAAX,EAAA,EAAA,IAAA,CAAA,KAAA,EAAA,OAAA;AACH;AArCLA,GAAAA,EAAAA;AAAAA,IAAAA,GAAAA,EAAAA,aAAAA;AAAAA,IAAAA,KAAAA,EAAAA,SAAAA,WAAAA,CAAAA,MAAAA,EAAAA,UAAAA,EAsCmC;AAC3BG,MAAAA,MAAM,CAANA,SAAAA,CAAAA,EAAAA,CAAoB,KAApBA,EAAAA,EAAAA,IAAAA,CAAAA,SAAAA,EAAAA,UAAAA;AACH;AAxCLH,GAAAA,EAAAA;AAAAA,IAAAA,GAAAA,EAAAA,OAAAA;AAAAA,IAAAA,KAAAA,EAAAA,SAAAA,KAAAA,GA0CW;AACH,WAAA,SAAA,CAAA,OAAA;AACH;AA5CLA,GAAAA,EAAAA;AAAAA,IAAAA,GAAAA,EAAAA,OAAAA;AAAAA,IAAAA,KAAAA,EAAAA,SAAAA,KAAAA,GA6CW;AACH,WAAA,SAAA,CAAA,OAAA;AACH;AA/CLA,GAAAA,CAAAA,CAAAA;;AAAAA,SAAAA,IAAAA;AAAAA,CAAAA,EAAAA","sourcesContent":["module.exports = class Room {\r\n    constructor(io, id){\r\n        this.id = id;\r\n        this.io = io;\r\n        \r\n        this.players = [];\r\n        this.playersCount = 0;\r\n    }\r\n    \r\n    addPlayer(socket, joined){\r\n        if(this.playersCount >= 2) {\r\n            joined(false);\r\n            return false;\r\n        }\r\n            \r\n        socket.join(this.id);\r\n        \r\n        this.playersCount++;\r\n        this.players.push(socket);\r\n        \r\n        if(this.playersCount === 1)\r\n            joined(true, 'yellow');\r\n        else\r\n            joined(true, 'black');\r\n        \r\n        if(this.players.length === 2)\r\n            this.ready();\r\n\r\n        socket.on('command', commandObj => {\r\n            this.sendCommand(socket, commandObj);\r\n        });\r\n        \r\n        return true;\r\n    }\r\n    \r\n    emitEvent(event, message){\r\n        this.io.to(this.id).emit(event, message);\r\n    }\r\n    sendCommand(sender, commandObj){\r\n        sender.broadcast.to(this.id).emit('command', commandObj);\r\n    }\r\n\r\n    ready(){\r\n        this.emitEvent('ready');\r\n    }\r\n    close(){\r\n        this.emitEvent('close');\r\n    }\r\n};"],"file":"Room.js"}